<!doctype html>
<html lang="en" dir="ltr">
<head>
    <title>VA LCP Ankle</title>
    <meta charset="utf-8">
    <meta name="description" content="<model-viewer> template">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" href="./styles.css" rel="stylesheet"/>
    <script src="https://cdn.jsdelivr.net/npm/focus-visible@5.0.2/dist/focus-visible.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://threejs.org/examples/js/libs/stats.min.js"></script>
    <script src="https://threejs.org/build/three.min.js"></script>
    <script src="./src/threejs_wasm_worker.js"></script>
    <script src="https://applepay.cdn-apple.com/jsapi/v1/apple-pay-sdk.js"></script>

</head>
<body>
    <div id="card">
        <model-viewer id="toggle-model"
            src="Foot.glb"
            ar
            ar-modes="webxr scene-viewer quick-look"
            camera-controls
            alt=""
            shadow-intensity="1"
            touch-action="pan-y"
            environment-image="music_hall_01_1k.hdr">
            
            <div class="progress-bar hide" slot="progress-bar">
                <div class="update-bar"></div>
            </div>

            <button slot="ar-button" id="ar-button">View in 4D</button>

            <div id="button" style="display:flex; justify-content: space-between;">
                <img src="4.png" style="width:100px; padding-left: 5px;"/>
                <img src="iitname.png" style="width:100px; padding-right: 0px;"/>
            </div>

            <div style="position: absolute; bottom: 10px; left: 50%; transform: translate(-45%, 0); display: flex; justify-content: center; align-items: center; gap: 20px; z-index: 1000;">
                <button class="slide selected" onclick="switchSrc(this, 'Foot.glb')">
                    <img src="Icon.png" alt="Leg" style="width: 40px; height: 40px;">
                </button>
                <button class="slide" onclick="switchSrc(this, 'Bone_Plate.glb')">
                    <img src="Icon_1.png" alt="Hip" style="width: 40px; height: 40px;">
                </button>
                <button class="slide" onclick="switchSrc(this, 'Boon_anim.glb')">
                    <img src="Icon_2.png" alt="Animation" style="width: 40px; height: 40px;">
                </button>
            </div>

            <div id="ar-prompt">
                <img src="ar_hand_prompt.png">
            </div>
        </model-viewer>

        <section class="attributiontwo" style="text-align: center; padding: 10px; transform: translateY(-20px);">
            <p style="background-image: url('black.png'); display: inline-block; padding: 10px;">
                <span style="display: flex; justify-content: center; gap: 20px; align-items: center;">
                    <a href="https://synthes.vo.llnwd.net/o16/LLNWMB8/US%20Mobile/Synthes%20North%20America/Product%20Support%20Materials/Technique%20Guides/Surgical%20Technique%20Guide-2.7mm_3.5mm%20Variable%20Angle%20LCP%20Ankle%20Trauma%20System.pdf">
                        <img src="Brochure_1.png" alt="Brochure" style="width:40px;height:40px;">
                    </a>
                    <a href="https://www.youtube.com/watch?v=kbEdHIOcFlM">
                        <img src="Video_1.png" alt="Video" style="width:40px;height:40px;">
                    </a>
                    <a href="https://www.jnjmedtech.com/en-US/product/variable-angle-ankle-trauma-system">
                        <img src="web_1.png" alt="Website" style="width:40px;height:40px;">
                    </a>
                    <a href="https://docs.google.com/forms/d/e/1FAIpQLSew4D56CSKpONvc30Ay7cLUY6FnPCOs7zK9IPYRLQWQPswbsg/viewform?usp=sf_link">
                        <img src="form_1.png" alt="Form" style="width:40px;height:40px;">
                    </a>
                </span>
            </p>
        </section>
    </div>

    <!-- Model switching script -->
    <script>
        function switchSrc(button, src) {
            const toggleModel = document.querySelector('#toggle-model');
            toggleModel.setAttribute('src', src);

            // Highlight the selected button
            document.querySelectorAll('.slide').forEach(btn => btn.classList.remove('selected'));
            button.classList.add('selected');
        }
    </script>

    <!-- Play to end function -->
    <script>
        function play_to_end() {
            const modelViewer = document.querySelector('#toggle-model');
            modelViewer.play();
            const t = modelViewer.duration * 1000;
            setTimeout(() => modelViewer.pause(), t);
        }
    </script>

    <!-- Scripts -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.0.1/model-viewer.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.2.3/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
